# -정규 표현식(Regular-Expression)-
## 목차
#### 1. 정규 표현식이란?
#### 2. 정규 표현식의 필요성

<br><br>

## 1. 정규 표현식이란?
### <정의>
- 특정한 규칙을 가진 문자열의 집합을 표현하는 데 사용하는 형식 언어
- 텍스트에서 우리가 원하는 특정한 패턴을 찾을 때 요긴하게 사용
```
✏️ 어떤 문자열의 규칙을 찾아서 어떤 문자와 일치하는 것을 뭐로 바꿔라
-> 전화번호 형태의 패턴을 찾을 때 ex) 000-0000-0000
-> 웹사이트 형태의 패턴을 찾을 때 ex) http://www.~.com
-> 찾은 패턴을 다른 문자열로 변경 가능
-> 사용자가 입력한 데이터가 이메일이나 패스워드와 같은 특정패턴에 부합하는지 유효성검사 가능
```
<br>

### <구성>
<img src="https://github.com/khbbbbi/Regular-Expression_BIGDATA/assets/102509150/4af0b4cc-c1c7-49e1-ba39-ae50f351d317" width="70%"><br>
- <b>슬래시(/)</b> : 슬래시를 이용해 '나는 정규 표현식이야!'라고 나타냄<br>
-    <b>패턴</b>   : //안에 우리가 찾고자하는 패턴 작성<br>
-    <b>flag</b>   : 어떤 옵션을 이용해서 검색할 건지 flag를 활용할 수 있음.<br>

```
✏️ 어떻게 우리가 원하는 패턴을 작성해나가는지가 중요!
```

<br><br>


## 2. 정규 표현식의 필요성
- 조건문과 문자열 조작을 통해 해결할 수 있지만 그러면 코드가 너무 복잡해진다.<br> 
=> <b>정규표현식으로 해결하면 코드가 매우 간단하고 직관적이며 복잡한 문제가 주어졌을 때 큰 효용성을 보여줌.</b><br><br>

ex) 주민등록번호를 포함하고 있는 텍스트가 있다. 이 텍스트에 포함된 모든 주민등록번호의 뒷자리를 * 문자로 변경하시오.<br>

|여러 개의 조건을 활용해 문제 해결한 코드|정규표현식을 사용한 경우|
|------|---|
|<img src="https://github.com/khbbbbi/Regular-Expression_BIGDATA/assets/102509150/2108b89f-7d84-4b65-a1c9-471ff71ae05a" >|<img src="https://github.com/khbbbbi/Regular-Expression_BIGDATA/assets/102509150/49f6bda4-d8f4-40fe-a052-86bc8c6425d3">|

간단한 예제로 코드만 비교해보아도 정규표현식을 사용한 경우의 코드가 훨씬 간결한 것을 볼 수 있다.

```
✏️ 그 밖에 정규표현식의 사용이 필요한 경우
- 대소문자를 구별하지 않고 "car" 텍스트를 찾는데, 단어 중간에 car가 들어간 경우는 제외할 경우(scar, carry 등)
- DB에서 뽑은 텍스트를 태그를 포함해 웹페이지에 출력하려고 할 때
- 회원가입과 같은 input 폼이 있는 웹페이지를 만들 경우 형식이 맞게 작성되었는지 확인할 때
- 소스코드에서 단어를 조건에 맞게 치환하려고 할 때
- 특정 텍스트가 포함된 파일들을 걸러낼 때
- csv 등의 데이터를 처리할 때
- 파일의 특정 위치에서 원하는 텍스트를 찾을 때
```

<br><br>

## 메타 문자
```. ^ $ * + ? \ | ( ) { } [ ]```<br>
정규식에서 사용되는 메타 문자는 다음과 같다. 
```
✏️ 메타문자란?
문자가 가진 원래의 의미가 아닌 특별한 용도로 사용되는 문자를 말한다.
```
### [] 문자 
<b>[] 안에 포함된 문자들 중 하나와 매치</b>를 뜻한다.
```python
# abc 중 하나와 매치
[abc]
```
- 'a' : a와 매치
- 'boy' : b와 매치
- 'dye' : a,b,c 중 어느 문자와도 매치X

[] 안의 두 문자에 -를 사용하면 두 문자 사이의 범위를 뜻한다.
- [a-c] : [abc]와 같음
- [0-5] : [012345]와 같음.
- [a-zA-Z] : 모든 알파벳

- 자주 사용하는 문자 클래스<br>

| 문자 클래스 | 뜻                           |설명|
| --------- | ---------------------------- |---|
| `\d`      | digit 숫자                   |	숫자 [0-9]와 같다.|
| `\D`      | digit 숫자 아님              |	비숫자 [^0-9]와 같다.|
| `\w`      | word 문자                    |	숫자 + 문자 [a-zA-Z0-9]와 같다.|
| `\W`      | word 문자 아님               |숫자 + 문자가 아닌 것 [^a-zA-Z0-9]와 같다.|
| `\s`      | space 공백                   |공백 [ \t\n\r\f\v]와 같다.|
| `\S`      | space 공백 아님              |비공백 [^ \t\n\r\f\v]와 같다.|
| `\b`      | 단어 경계        |단어 경계 (`\w`와 `\W`의 경계)|
| `\B`      | 단어 경계가 아님 |	비단어 경계|

<br>

```
✏️ [] 안에서 ^는 반대를 뜻한다.
- [^0-9] : 숫자를 제외한 문자만 매치
- [^abc] : a,b,c를 제외한 모든 문자와 매치
```
<br>

### . 모든 문자
줄바꿈 문자인 \n을 제외한 <b>모든 문자</b>와 매치된다.
```python
# 'a + 모든 문자 + b'를 뜻함
a.b
```
- aab : a와 b 사이의 a는 모든 문자에 포함되므로 매치
- a0b : a와 b 사이의 0은 모든 문자에 포함되므로 매치
- abc : a와 b 사이에 문자가 없기 때문에 매치X

```
✏️ [] 사이에서 .을 사용할 경우 문자 원래의 의미인 마침표가 된다.
a[.]b
- a.b : a와 b 사이에 마침표가 있으므로 매치
- a0b : a와 b 사이에 마침표가 없으므로 매치X
```

<br>

### * 반복
* 앞에 오는 문자가 <b>0개를 포함하여 몇 개가 오든</b> 모두 매치된다.
```python
lo*1
```
- ll : 매치
- lol : 매치
- l00000l : 메치
- lbl : 매치X

<br>

### + 최소 한 번 이상 반복
+ 앞에 있는 문자가 <b>최소 한 번 이상 반복</b>되어야 매치된다.



## 문법 정리

### Groups and ranges

| Character | 뜻                                     |
| --------- | -------------------------------------- |
| `\|`      | 또는                                   |
| `()`      | 그룹                                   |
| `[]`      | 문자셋, 괄호안의 어떤 문자든           |
| `[^]`     | 부정 문자셋, 괄호안의 어떤 문가 아닐때 |
| `(?:)`    | 찾지만 기억하지는 않음                 |

### Quantifiers

| Character   | 뜻                                  |
| ----------- | ----------------------------------- |
| `?`         | 없거나 있거나 (zero or one)         |
| `*`         | 없거나 있거나 많거나 (zero or more) |
| `+`         | 하나 또는 많이 (one or more)        |
| `{n}`       | n번 반복                            |
| `{min,}`    | 최소                                |
| `{min,max}` | 최소, 그리고 최대                   |

### Boundary-type

| Character | 뜻               |
| --------- | ---------------- |
| `\b`      | 단어 경계        |
| `\B`      | 단어 경계가 아님 |
| `^`       | 문장의 시작      |
| `$`       | 문장의 끝        |

### Character classes

| Character | 뜻                           |
| --------- | ---------------------------- |
| `\`       | 특수 문자가 아닌 문자        |
| `.`       | 어떤 글자 (줄바꿈 문자 제외) |
| `\d`      | digit 숫자                   |
| `\D`      | digit 숫자 아님              |
| `\w`      | word 문자                    |
| `\W`      | word 문자 아님               |
| `\s`      | space 공백                   |
| `\S`      | space 공백 아님              |

 
## 파이썬에서의 기본 사용법
### <수식>
#### 문자 클래스 []
```[abc]```
- []사이의 문자들과 매치
- "<b>a</b>"는 정규식과 일치하는 문자인 "a"가 있음 -> 매치
- "<b>b</b>efore"는 정규식과 일치하는 문자인 "b"가 있음 -> 매치
- "due"는 정규식과 일치하는 문자인 a,b,c 중 어느 하나도 포함하고 있지 않음 -> 매치X
- 하이픈(-)을 사용하여 From-To로 표현 가능 ex) [a-c] = [abc], [0-5] = [012345]

#### Dot(.)
```a.b```
- '.'은 줄바꿈(\n)을 제외한 모든 문자와 매치
- "aab"는 가운데 문자 "a"가 모든 문자를 의미하는 '.'과 일치함 -> 정규식과 매치
- "a0b"는 가운데 문자 "0"가 모든 문자를 의미하는 '.'과 일치함 -> 정규식과 매치
- "abc"는 "a"문자와 "b"문자 사이에 어떤 문자라도 하나는 있어야 하는 이 정규식과 일치하지 않음 -> 매치X

#### 반복(*)
```ca*t```
- 바로 앞 문자가 여러번 반복되는 것.
- "ct"는 "a"가 0번 반복되어 매치
- "cat"는 "a"가 0번 이상 반복되어 매치 -> 1번 반복
- "caaat"는 "a"가 0번 이상 반복되어 매치 -> 3번 반복

#### 반복(+)
```ca+t```
- "ct"는 "a"가 0번 반복되어 매치X
- "cat"는 "a"가 0번 이상 반복되어 매치 -> 1번 반복
- "caaat"는 "a"가 0번 이상 반복되어 매치 -> 3번 반복

#### 반복({m,n}, ?)
```ca{2}t```
- "cat"는 "a"가 1번만 반복되어 매치X
- "caat"는 "a"가 2번 반복되어 매치<br>

```ca{2,5}t```
- "cat"는 "a"가 1번만 반복되어 매치X
- "caat"는 "a"가 2번 반복되어 매치
- "caaaaa"는 "a"가 5번 반복되어 매치<br>

```ab?c```
- "abc"는 "b"가 1번 사용되어 매치
- "ac"는 "b"가 0번 사용되어 매치
- ? == {0,1}와 같은 표현

<br>

### <정규표현식>
- 파이썬에서 정규 표현식을 지원하는 re모듈
```python
import re
p = re.compile('ab*') //패턴 객체
```

- 패턴 객체를 이용하는 방법 4가지
 - Match
 - Search
 - Findall
 - Finditer

## 코드 예제

> 출처
> 유튜브 : 조코딩: 정규표현식이란? 파이썬 정규표현식의 기초와 활용https://www.youtube.com/watch?v=dTDoTR0MXjU
>          드림코딩 : 정규표현식 , 더이상 미루지 말자 🤩 https://www.youtube.com/watch?v=t3M6toIflyQ
> =위키백과 : https://ko.wikipedia.org/wiki/%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D
> https://blog.walkinpcm.com/15
> https://velog.io/@909snare/%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-%EC%86%8C%EA%B0%9C
> https://doorbw.tistory.com/111
